[toc]

## 可行性研究与风险分析

可行性研究分为 **经济可行性研究**、**技术可行性研究** 和 **法律可行性研究**。

### 经济可行性研究

经济可行性研究主要是进行成本、效益分析。
评估该项目的开发成本，估算开发成本是否超出项目可能得到的全部利润，并分析该项目的开发是否会对其他项目的开发和利润产生影响。

#### 系统成本费用分析

包括：

- 设备购置费用
- 系统开发费用
- 系统安装、运行和维护费用
- 人员培训费用

#### 系统效益分析

包括：

- 经济效益
- 社会效益

### 技术可行性分析

技术可行性分析是系统可行性分析的关键活动。
一般包括 **风险分析、资源分析和技术分析**。

### 法律可行性分析

包括：

- 确定当前项目的开发是否违背国家相关法律。
- 在知识产权方面是否对他人构成侵权行为。
- 与客户签订的合同是否涉及第三方的利益等。

### 开发方案可行性分析研究

包括：

- 提出待选方案
- 评价待选方案
- 确定开发方案

### 可行性分析报告文档格式

目录格式一般包括如下内容：

1. 引言
2. 可行性研究的前提（问题的提出）
3. 对现有系统的分析
4. 建议选择的系统方案的描述
5. 投资、成本及效益分析
6. 技术风险评价
7. 社会、法律因素方面的可能性
8. 结论及其他

## 客户需求分析与用例模型

### 建造需求模型——用例模型

主要目标：

- **将需求规约变为可视化模型，并得到客户确认。**
- **给出清晰、一致的关于系统做什么的描述，确定系统的功能要求。**
- **提供从功能需求到系统分析、设计、实现各阶段的度量标准。**
- **为最终系统测试提供基准，据此验证系统是否达到功能要求。**
- **为项目目标进度管理和风险管理提供依据。**

步骤：

- **确定系统的范围和边界**
- **确定系统的执行者和用例**
- **对用例进行描述**
- **定义用例之间的关系**
- **审核用例模型**

### 用例图

略

### 定义系统的边界和范围

系统的 *范围* 是指系统问题域的目标、任务、规模及系统提供的功能和服务。
系统的 *边界* 是指一个系统的所有系统元素与系统以外的事物的分界线。

### 确定执行者

**执行者** 是指在系统外部与系统交互的人或其他系统，以某种方式参与系统内用例的执行。

- 执行者之间可以有继承关系。
- 执行者代表一种角色而不是具体某个人。
- 对同一个人担任角色的限制。
- 执行者可分成 *主执行者* 和 *副执行者*。
    - *主执行者*：使用系统的主要功能。
    - *副执行者*：处理系统的辅助功能。
- 执行者还可细分为 *主动执行者* 和 *被动执行者*。
    - *主动执行者*：启动一个或多个用例。
    - *被动执行者*：从不启动用例，只是参与一个或多个用例。

确定执行者的要素：

- 凡是直接使用系统的人员都可以确定为执行者。
- 凡是直接向系统提供外界信息或在系统的控制下运行的硬件设备，可确定为执行者。
- 凡是直接与系统进行交互的外部系统，可以确定是执行者。

### 确定用例

**用例** 是系统所提供的一个功能的描述。

- 用例由执行者激活，并且用例提供确切的值给执行者。
- 用例可大可小，但它必须是对一个具体的用户目标实现的完整描述。
- 用例只描述执行者与系统在交互过程中做些什么，并不描述具体怎么做。

具有特征：

- **响应性**
- **回执性**
- **完整性**

**用例的实例称为场景。**

对于建立的每一个业务用例，都需要 *一组系统用例* 来辅助和支持。

### 用例之间的关联

- **继承关联**
    - 表示两个用例之间有继承关系。
    - 其中一个用例称为 **父用例**，其派生的用例称为 **子用例**。
    - 用例的继承关联是一种 *泛化关联*。
    - 使用 **带空心箭头的实线** 表示继承关联，由子用例指向父用例。
- **扩展关联**
    - 是一种依赖关系，通过向基本用例添加动作来扩展该用例。
    - 使用 **带箭头的虚线** 表示，虚线上标注 **构造型 `<<extend>>`**。
    - 从基本用例指向扩展用例。（这里有出入）
- **包含关联**
    - 是一种依赖关系，一个基本用例的功能包含另一个用例的功能。
    - 使用 **带箭头的虚线** 连接两个用例，虚线上标注 **构造型 `<<include>>`**。
    - 从基本用例指向被包含用例。
- **使用关联**
    - 是一种继承关系，一个用例使用另一个用例的功能和行为。
    - 用一条 **带空心箭头的实线** 连接一个子用例和一个父用例。
    - 箭头从子用例指向父用例，实线上标注 **构造型 `<<use>>`**。

区别包含关联和使用关联：

- 若一个用例只与某一个用例有关联，则是 *包含关联*。
- 若一个用例与多个用例有关联，则是 *使用关联*。

从以下几点考虑来定义用例之间的关联：

- 一个用例偶尔使用另一个用例的功能描述时，采用继承关联。
- 两个以上用例偶尔处理同样的动作，可以采用使用关联或包含关联。
- 用例要采用多种控制方式对异常或人员动作进行处理时，采用扩展关联。

## 定义系统的对象和类

**CRC（类-责任-协作者） 技术** 是一组描述类的索引卡片。
卡片分成三部分：**类名描述、类的责任描述和类的协作者描述**。

![CRC](http://oxnec2zdn.bkt.clouddn.com/organicchemistry/crc.png)

### 确定对象类

- 发现潜在对象 
    - 一组具有相同属性和操作的对象可以定义成一个类。
- 标识对象名的原则
    - 使用单个单词或名词短语标识对象名。
    - 对象名称必须有意义。
    - 尽量使用用户熟悉的行业标准术语。
- 筛选对象
    - 根据以下特征来选择和确定最终的对象。
    - 关键性、可操作性、信息含量。
    - 公共属性、公共操作、关键外部信息。
- 对象分类
    - 有形性：类表示有形事物，还是抽象信息。
    - 包含性：类是原子的，还是聚合的。
    - 顺序性：对象是并发的，还是顺序的。
    - 持久性：对象是短暂的、临时的，还是持久的。
    - 完整性：对象是易被侵害的，还是保护的。

### 标识对象类的属性

对象属性的标识过程包括：

- 寻找对象潜在属性
- 识别和筛选对象属性
- 标识属性名
- 进行属性说明

### 标识对象类的操作

- 寻找潜在的对象类操作
- 筛选、确定操作
    - 功能性
    - 关联性
    - 单一性
    - 完整性
- 命名操作
- 操作的说明
    - 操作解释
    - 消息协议
    - 消息发送
    - 约束条件
    - 操作流程
- 操作的分类
    - 对象操作
    - 计算操作
    - 监控操作

### 标识对象类之间的关联（协作）

- 建立实例连接
    - 包含性
    - 关联性
    - 依赖性
    - 多重性
    - 多元性
- 消息传递
- 筛选对象间的关联
    - 原始性
    - 单一性
    - 结构性
    - 相关性

### 复审类的定义

定义对象类后，也就是为对象类填好一张 CRC 卡片后，由客户和软件分析人员共同参与复审。
复审方法犹如 *"击鼓传花"*。

### 定义类的结构和层次

- **一般-特殊结构**
    - 表示类之间的关系具有层次结构。
- **整体-部分结构**
    - 表示对象之间的聚合（组合）关系。
- **子系统**
    - 把相互协作可完成某一特定功能的一组紧密结合在一起的类的集合定义为一个子系统。

## 客户需求分析规格说明

**软件需求说明书**（SRS）又称 **软件规格说明书**，是作为需求分析的一部分而制定的可交付文件。

![需求规格说明书](http://oxnec2zdn.bkt.clouddn.com/organicchemistry/xuqiuguigeshuomingshu.png)

## 需求分析中的用例建模步骤

1. 确定系统范围、用例和执行者。
2. 描述用例。
3. 用例分类、确定用例之间的关联。
4. 建立用例图。
5. 定义用例图的层次结构。
6. 审核用例模型。

### 用例的类型

- **端点用例**
    - 使系统开始运行和终止运行的用例。
- **基本用例**
    - 维持系统基本功能的用例。
- **主要用例**
    - 主业务流功能，该用例运行后，其他基本用例才能执行的用例。
- **辅助用例**
    - 为了使系统高效率运行而增加的用例。

### 建立用例图

一个系统或子系统由用例模型来描述。
用例模型由若干个用例图及相应的正文说明来描述。
一个用例图描述用例模型的一个侧面，几个用例图就可以完整地描述一个系统或子系统。

步骤：

1. 确定用例
2. 描述用例
3. 筛选用例
4. 绘制用例图
5. 层次化用例图

### 层次化用例图

为了便于间接、清晰、明了地描述一个复杂的大系统，可以将系统分解为若干子系统。
子系统还可以有自己的下属子系统，形成一个系统层次结构。

![用例图的层次结构](http://oxnec2zdn.bkt.clouddn.com/organicchemistry/yonglitudecengcijiegou.png)

## 客户需求分析中的活动图

UML 的 **活动图** 是系统动态行为建模的图形工具之一。
用来表示完成一个操作所需要的活动，或者是一个用例实例（场景）的活动。

### 一个简单的活动图例子

![活动图例子](http://oxnec2zdn.bkt.clouddn.com/organicchemistry/huodongtulizi.png)

### 活动图的基本描述符号

![活动图的基本符号](http://oxnec2zdn.bkt.clouddn.com/organicchemistry/huodongtudejibenfuhao.png)

- 活动：活动的符号用一个 **两边为弧形的矩形框** 表示。
- 迁移：用 **带箭头的实线** 表示。
- 起始活动：代表活动图的起始点，用一个 **实心圆** 表示。
- 结束活动：代表活动图的最后互动，用一个 **圆形中套着一个实心圆** 表示。
- 条件判定：用 **空心菱形** 表示。
- 并发活动：如图所示，其中的粗短实线称为 **并发（同步）杆**。

### 活动图中的几个基本概念

- **动作状态**
    - 用于对实例中 **原子性（不可分割）** 动作或算法的执行步骤建立模型。
- **活动状态**
    - 拥有一组不可中断的动作或操作，表达一个 **非原子性** 的活动的运行。
- **动作流**
    - 一个实例的不同动作状态之间的联系，说明状态之间的控制流。
    - 由带箭头的实线表示，由源动作活动出发指向目标动作活动。
- **泳道**
    - 表示对象对活动的责任。
    - 一个活动图可划分成若干矩形区，每个矩形区为一个泳道。
    - 泳道名放在矩形区的顶端。
    - 泳道是把指定对象和活动相联系的办法之一，明确表明哪些对象进行了哪些活动。
- **活动图中的对象**
    - 带箭头虚线也称为 **对象流**，表示动作状态或活动与对象之间的关联。

### 活动图总的并发与同步活动

一个动作（或活动）状态的迁移可以分劈成两个或多个导致并行动作（或活动）状态的迁移。
若干个来自并行动作（或活动）的迁移也可以合并（接合）成一个迁移。

*一个动作（或活动）状态迁移分劈后，在合并之前并行迁移上的活动能够必须全部完成。*
也就是说，**动作状态的分劈和同步接合要成对出现**。

- **同步并发迁移**
    - 一个线程经过同步杆分劈后分为几个线程，当这几个线程全都执行完毕后，再经过同步杆接合为一个新线程。
- **动态并发**
    - 一个动作或活动可以并发重复执行。
    - 使用重复标记 "*" 进行标记，说明该活动状态是一个动态并发活动状态。
- 具有 **层次关系** 的活动图
    - 在一个活动图中，其中的一个活动可以分解为若干个子活动或动作，这些子活动或动作可以组成一个新的活动图。
    - 在最高层中只描述几个组合活动，不必涉及子活动图的内容，具体的内部行为可以在低一层的活动图中描述。

## 需求分析用例建模案例

略
