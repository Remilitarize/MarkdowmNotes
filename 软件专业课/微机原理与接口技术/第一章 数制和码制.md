[toc]

## 数制表示及其转换

### 数制的表示

- 对于 n 位整数 m 位小数的十进制数 N<sub>10</sub>，有&Sigma;<sub>i = -M</sub><sup>N - 1</sup> K<sub>i</sub> 10<sup>i</sup> (K<sub>i</sub> = 0, 1, ..., 9)
- 通常在数字后加上 **字母 D 或不加任何字母** 表示该数字是十进制数。

> 例：
(237.52)<sub>10</sub> = 2\*10<sup>2</sup> + 3\*10<sup>1</sup> + 7\*10<sup>0</sup> + 5\*10<sup>-1</sup> + 2\*10<sup>-2</sup>

- 对于 n 位整数 m 位小数的二进制数 N<sub>2</sub>，有&Sigma;<sub>i = -M</sub><sup>N - 1</sup> K<sub>i</sub> 2<sup>i</sup> (K<sub>i</sub> = 0, 1)
- 通常在数字后加上 **字母 B** 表示该数字是二进制数。

> 例：
(1101.011)<sub>2</sub> = 1\*2<sup>3</sup> + 1\*2<sup>2</sup> + 0\*2<sup>1</sup> + 1\*2<sup>0</sup> + 0\*2<sup>-1</sup> + 1\*2<sup>-2</sup> + 1\*2<sup>-3</sup> = (13.375)<sub>10</sub>

- 对于 n 位整数 m 位小数的十六进制数 N<sub>16</sub>，有&Sigma;<sub>i = -M</sub><sup>N - 1</sup> K<sub>i</sub> 16<sup>i</sup> (K<sub>i</sub> = 0, 1, ..., 9, A, B, C, D, E, F)
- 通常在数字后加上 **字母 H** 表示该数字是十六进制。

> 例：
(3C.4)<sub>16</sub> = 3\*16<sup>1</sup> + 12\*16<sup>0</sup> + 4\*16<sup>-1</sup> = (60.25)<sub>10</sub>

- 以上方法称为 **位置计数法** 或 **位置加权法**。

### 数制的转换

#### 十进制 —— 任意进制 P

- 整数部分
	- 除以 P 取余，即 **短除法**。
	- 最后余数 **从下至上** 依次写出。

> 例：
![十进制转换二进制](http://oxnec2zdn.bkt.clouddn.com/microcomputer/decimal-to-binary.png)

- 小数部分
	- 乘以 P 取整
	- 最后整数 **从上至下** 依次写出。

> 例：
0.6875 * 2 = 1.375 —— 1
0.375 * 2 = 0.75 —— 0
0.75 * 2 = 1.5 —— 1
0.5 * 2 = 1.0 —— 1
0.6875 = 0.1011 B

#### 任意进制 —— 十进制

- 采用 **位置加权法** 即可。

#### 二进制 —— 十六进制

- 小数点左侧的整数部分
	- 每 **四位** 对应 **一位** 十六进制数。
	- 高位不足四位则 **左侧补零**。
- 小数点右侧的小数部分
	- 每 **四位** 对应 **一位** 十六进制数。
	- 低位不足四位则 **右侧补零**。

> 例：
0001 | 0010 | 0101 | 1010.1010 | 0111 | 1000 B
125A.A78 H

## 二进制数的运算规则

### 二进制数的算术运算

- 二进制数 **逢二进一**、**借一作二**。
- 十六进制数 **逢十六进一**、**借一作十六**。

### 二进制数的逻辑运算

|符号|(0, 0)|(0, 1)|(1, 0)|(1, 1)|
|-|-|-|-|
|AND|0|0|0|1|
|OR|0|1|1|1|
|XOR|0|1|1|0|

- NOT 运算
	- NOT 0 = 1
	- NOT 1 = 0
- 逻辑运算用途
	- AND 运算可以对指定位置 **清零**。
	- OR 运算可以对指定位置 **置一**。
	- XOR 运算可以对指定位置 **取反**。

## 有符号数的表示

- 一般采用 **最高位** 作为 **符号位** 表示有符号数。
	- 这样表示的数称为 **机器数**。
	- 其实际值称为 **机器数的真值**。
- 符号位
	- 0 为整数
	- 1 为负数

### 原码表示法

- 除最高位符号位外，剩余 7 位就是真值的绝对位，这种表示方法称为原码表示法。
- 一个数的原码记作 [数]<sub>原</sub>

> 例：
[+3]<sub>原</sub> = 00000011 B
[-3]<sub>原</sub> = 10000011 B

- 对于特殊值 0 有两种表示方法
	- [+0]<sub>原</sub> = 00000000 B
	- [-0]<sub>原</sub> = 10000000 B
- 对于 8 位有符号整数，原码表示法的表示范围：**-127 ~ +127**。
- 优点
	- 直观简单
- 缺点
	- 加减运算麻烦

### 补码表示法

> 计算机中有符号数都是用补码表示的，无符号数就是它本身。

- [x]<sub>补</sub> 的定义
	- 当 0 ≤ x ≤ 2<sup>n-1</sup> &nbsp; [x]<sub>补</sub> = [x]<sub>原</sub>
	- 当 -2<sup>n-1</sup> ≤ x &lt; 0 &nbsp; [x]<sub>补</sub> = x + 2<sup>n</sup>(mod 2<sup>n</sup>)
- 求补运算：求一个数 x 的补码
	- 正数的补码等于其原码。
	- 负数的补码等于其原码除 **符号位保持不变** 外，**其余各位按位取反，再加1**。

> 例：
[12]<sub>补</sub> = [12]<sub>原</sub> = 00001100 B
[-12]<sub>补</sub> = 10000000 B(符号位) + NOT 00001100 B + 1 B = 11110100 B

- 0 的补码只有唯一的形式
	- [0]<sub>补</sub> = 00000000 B
- 对于 8 位有符号整数，补码表示法的表示范围：**-128 ~ +127**。
- 补码与原码的转换
	- [[x]<sub>补</sub>]<sub>补</sub> = [x]<sub>原</sub>

> 例：
[-12]<sub>补</sub> = 11110100 B
[-12]<sub>原</sub> = [[-12]<sub>补</sub>]<sub>补</sub> = 10001100 B

## 有符号数的运算及其溢出规则

### 补码运算规则

- 当最高位出现 **进位** 或 **借位** 时，直接 **丢弃**。
- 两个 n 位二进制数之和的补码等于这两数补码之和。
	- [X + Y]<sub>补</sub> = [X]<sub>补</sub> + [Y]<sub>补</sub>
- 两个 n 位二进制数之差的补码等于这两数补码之差。
	- [X - Y]<sub>补</sub> = [X]<sub>补</sub> - [Y]<sub>补</sub>
- 补码减法运算时，也可以利用加法基本公式。
	- [X - Y]<sub>补</sub> = [X]<sub>补</sub> + [-Y]<sub>补</sub>
- 已知 [X]<sub>补</sub>，求 [-X]<sub>补</sub> 的过程称为 **变补** 或 **求负**。
	- **每一位（包括符号位）都按位取反**，然后再 **加 1**。

### 有符号数运算时的溢出问题

- 溢出只能出现在 **两个同号数相加** 或 **两个异号数相减** 的情况下
- 如果 **次高位有进位（或借位）而最高位无进位（或借位）**，则结果溢出。
- 如果 **次高位无进位（或借位）而最高位有进位（或借位）**，则结果溢出。

## BCD 编码方法及其运算

### BCD 编码表示方法

- 用 4 位二进制数表示 1 位 **十进制数**，这种方法称为 **BCD 编码方法**。
- 4 位二进制数有 16 种组合，如果取前 10 种组合分别表示 0 ~ 9，这称为 **8421BCD 码**。
- 一个字节可以表示 8 位二进制数。
	- 8 位的高 4 位和低 4 位表示两位十进制数，这种表示方法称为 **组合 BCD 数**。
	- 8 位中只用低 4 位表示一位十进制数，这种表示方法称为 **分离 BCD 数**。

> 例：
75.4 = (01110101.0100)<sub>BCD</sub>

### BCD 编码运算

- 由于计算机对于 BCD 编码仍采用二进制数的计算方法，所以需要进行修正。
- 加法
	- 如果两个 BCD 码位相加 **没有进位**，并且 **结果 ≤ 9**，则该位不需修正。
	- 如果两个 BCD 码位相加 **有进位**，或者其 **结果 ≥ 10**，该位进行 **加六修正**。
	- 低位修正结果使高位 &rt; 9 时，高位进行 **加六修正**。
- 减法
	- 如果两个 BCD 码位相减 **没有借位**，则该位不需修正。
	- 如果两个 BCD 码位相减 **有借位**，则该位进行 **减六修正**。

## ASCII 编码方法

- 全称 American Standard Code for Information Interchange
	- 美国国家信息交换标准码
- ASCII 码用 7 位二进制数表示一些字符
	- 32 个通用控制符
	- 0-9 10个数字
	- 52 个大写小写字母
	- 34 个专用符号
- 前 128 个字符对应的编码是 **标准 ASCII 码**，后 128 个字符对应的编码是 **扩展 ASCII 码**。
	- 标准 ASCII 码是国际标准，扩展 ASCII 码不是。
- 常用 ASCII 码
	- 数字：30 H ~ 39 H
	- 大写字母：A 对应 41 H
	- 小写字母：a 对应 61 H
