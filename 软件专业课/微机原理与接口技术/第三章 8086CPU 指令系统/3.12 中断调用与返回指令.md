[toc]

## 中断调用指令 INT

```
INT n; n 表示调用中断的类型号
```

- 中断类型好的范围为 0 ~ 255。
- 当执行该指令时，会执行下列操作：
	- **PSW/CS/IP 入栈**。
	- **清除 IF/TF 标志**。
	- 从中断向量表中取出中断向量（中断向量为中断服务子程序的入口地址）。
	- 转到中断服务子程序执行。
	- 中断服务子程序的最后一条指令应该是中断返回指令，执行该指令可以返回到程序中断处继续执行。

## 中断返回指令 IRET

```
IRET; 表示从中断服务子层序返回主程序
```

- 执行该指令时：
	- **IP/CS/PSW 出栈**。

## 中断向量表

每个中断服务子程序的入口地址（称为中断向量）为 32 位（16 位的偏移地址和 16 位的段地址），占用 4 个地址单元。
计算机中采用最低的 1024 个地址单元（称为 0 页）来存储中断向量。
因此，n 号中断的中断向量存放地址为：4 * n。

## 中断服务子程序结构

```
<中断子程序名>:
	PUSH AX; 保护现场
	...
	PUSH SI
	... ; 中断子程序主体
	POP SI; 恢复现场
	...
	POP AX
	IRET ; 中断返回
```

## 系统功能调用

分类两类：

- BIOS 功能调用
	- 以系统中所支持的硬件为对象。
- DOS 功能调用
	- 以软件方式支持的功能。
