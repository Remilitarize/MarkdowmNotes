[toc]

## Matlab 程序文件

Matlab 的程序文件扩展名为 `.m`。
分为 **脚本文件** 和 **函数文件**。

- 脚本文件是可以在命令行窗口直接执行的文件，也叫命令文件。
- 函数文件是定义一个函数，不能直接执行，而必须以函数调用的方式来调用它。

***文件的建立：***

- 用命令按钮创建文件。
- 用 `edit` 命令创建文件。
    - 例：`edit test`，在当前文件夹中创建一个 `test.m` 文件并打开脚本编辑器。

### 建立脚本文件

f1.m
```matlab
A = [1 2 3; 4 5 6];
B = [1 2; 3 4; 5 6];
C = A * B
```

命令行窗口
```matlab
f1
```

### 建立函数文件

f2.m
```matlab
function C = f2(A, B)
C = A * B
```

命令行窗口
```matlab
A = [1 2 3; 4 5 6];
B = [1 2; 3 4; 5 6];
C = f2(A, B)
```

## 顺序结构程序

数据的输入：
`A = input(提示信息, 选项);`

数据的输出：
`disp(输出项);`

> 在一行末尾不加分号时输出的结果与使用 `disp` 函数输出的结果在格式上有差异。

程序的暂停：
`pause(延迟秒数)`
省略秒数时会暂停程序，直至用户输入任意键。

强行中止程序：
Ctrl + C 组合键。

### 例题

有一线段 AB，A 的坐标为 (1, 1)，B 的坐标为 (4.5, 4.5)，求 AB 的长度，以及黄金分割点 C 的坐标。

> 将 A 点和 B 点的坐标用复数形式存储，其模就是 AB 的长度。
> (1, 1) &rarr; 1 + i
> (4.5, 4.5) &rarr; 4.5 + 4.5i
> 黄金分割点将线段分隔为 0.618 : (1-0.618)。

```matlab
a = input('a = ');
b = input('b = ');
c = a + 0.618 * (b - a);
s = abs(a - b);
disp(s)
disp(c)
```

## 选择结构程序

### 单分支 if 语句

语句格式：

```matlab
if 条件     % 关系表达式或逻辑表达式
    语句组
end
```

- 当条件结果为标量时，**非零** 表示条件成立，零表示条件不成立。
- 当条件结果为矩阵是，如果矩阵 **非空且不包含零元素**，则条件成立，否则不成立。

> 建议条件尽量使用标量。

### 双分支 if 语句

语句格式：

```matlab
if 条件
    语句组 1
else           % 当条件不成立时
    语句组 2
end
```

例：输入一个整数，若为奇数则输出其平方根，否则输出其立方根。

```matlab
x = input('请输入 x 的值');
if rem(x, 2) == 1    % 等价于 rem(x, 2)
    y = sqrt(x);
else
    y = x ^ (1/3);
end
disp(y);
```

### 多分支 if 语句

语句格式：

```matlab
if 条件 1
    语句组 1
elseif 条件 2
    语句组 2
...
elseif 条件 m
    语句组 m
else
    语句组 m+1
end
```

例：输入一个字符，若为大写字母，则输出其对应的小写字母；若为小写字母，则输出其对应的大写字母；若为数字字符，则输出其对应数的平方根；若为其他字符，则原样输出。

```matlab
c = input('请输入一个字符：', 's');
if c >= 'A' && c <= 'Z'
    disp(lower(c))
elseif c >= 'a' && c <= 'z'
    disp(upper(c))
elseif c >= '0' && c <= '9'
    disp(str2double(c) ^ 2);
else
    disp(c);
end
```

### switch 语句



